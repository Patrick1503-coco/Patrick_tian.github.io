<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>学生管理 - Patrick Tian's Studio</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app">
        <!-- 侧边栏 -->
        <aside class="sidebar">
            <div class="brand">
                <span class="logo-dot"></span>
                Patrick Tian
            </div>
            <nav class="nav">
                <a href="index.html">首页</a>
                <a href="students.html" class="active">学生管理</a>
                <a href="records.html">课堂记录</a>
            </nav>
            <div style="margin-top:auto;color:var(--text-light);font-size:0.85rem">
                <strong>学生数据</strong><br>
                管理与追踪
            </div>
        </aside>

        <!-- 主内容区 -->
        <main class="main">
            <!-- 顶部工具栏 -->
            <div class="topbar">
                <div class="search">
                    <input type="search" id="searchInput" placeholder="搜索学生姓名..." />
                </div>
                <div class="actions">
                    <button class="btn" id="addStudentBtn">+ 添加学生</button>
                </div>
            </div>

            <!-- 学生管理内容 -->
            <section class="management">
                <div class="container" style="max-width:100%;padding:0">
                    <!-- 添加学生表单卡片 -->
                    <div class="form-card" id="formCard" style="display:none">
                        <h3>添加新学生</h3>
                        <form id="studentForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>机构 *</label>
                                    <input type="text" id="organization" required>
                                </div>
                                <div class="form-group">
                                    <label>学生姓名 *</label>
                                    <input type="text" id="studentName" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>性别 *</label>
                                    <select id="gender" required>
                                        <option value="">请选择</option>
                                        <option value="男">男</option>
                                        <option value="女">女</option>
                                    </select>
                                </div>
                            
                                    <div class="form-group">
                                        <label>所学科目 *</label>
                                        <select id="subject" required>
                                            <option value="">请选择</option>
                                            <option value="AP Physics 1">AP Physics 1</option>
                                            <option value="AP Physics 2">AP Physics 2</option>
                                            <option value="A-Level Physics">A-Level Physics</option>
                                            <option value="其他">其他</option>
                                        </select>
                                    </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>年级</label>
                                    <input type="text" id="grade" placeholder="如：高二">
                                </div>
                                <div class="form-group">
                                    <label>首次授课日期</label>
                                    <input type="date" id="firstLessonDate">
                                </div>
                            </div>
                            
                            <div style="display:flex;gap:10px">
                                <button type="submit" class="btn">保存学生</button>
                                <button type="button" class="btn ghost" id="cancelBtn">取消</button>
                            </div>
                        </form>
                    </div>

                    <!-- 学生列表 -->
                    <div class="students-list">
                        <div class="list-header" style="display:flex;justify-content:space-between;align-items:center">
                            <h3>学生列表</h3>
                            <div style="font-size:1.1rem;font-weight:600;color:var(--text)">总数：<span id="totalStudents">0</span></div>
                        </div>
                        
                        <div class="table-container">
                            <table id="studentsTable">
                                <thead>
                                    <tr>
                                        <th>机构</th>
                                        <th>姓名</th>
                                        <th>性别</th>
                                        <th>科目</th>
                                        <th>年级</th>
                                        <th>首次授课日期</th>
                                        <th>授课总时长</th>
                                        <th style="width:130px">操作</th>
                                    </tr>
                                </thead>
                                <tbody id="studentsBody">
                                    <!-- 学生数据将通过JavaScript动态添加 -->
                                </tbody>
                            </table>
                            <div id="emptyState" class="empty-state">
                                <p>暂无学生信息</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 编辑学生模态框 -->
            <div id="editModal" style="position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.5);display:none;align-items:center;justify-content:center;z-index:1000">
                <div style="background:var(--panel);padding:32px;border-radius:12px;max-width:500px;width:90%;border:1px solid var(--border)">
                    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:24px">
                        <h3 style="margin:0">修改学生信息</h3>
                        <button type="button" id="closeEditModal" style="background:none;border:none;font-size:24px;color:var(--text);cursor:pointer">&times;</button>
                    </div>
                    <form id="editForm">
                        <input type="hidden" id="editId">
                        <div class="form-row">
                            <div class="form-group">
                                <label>机构 *</label>
                                <input type="text" id="editOrganization" required>
                            </div>
                            <div class="form-group">
                                <label>学生姓名 *</label>
                                <input type="text" id="editName" required>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label>性别 *</label>
                                <select id="editGender" required>
                                    <option value="">请选择</option>
                                    <option value="男">男</option>
                                    <option value="女">女</option>
                                </select>
                            </div>
                        
                            <div class="form-group">
                                <label>所学科目 *</label>
                                <select id="editSubject" required>
                                    <option value="">请选择</option>
                                    <option value="AP Physics 1">AP Physics 1</option>
                                    <option value="AP Physics 2">AP Physics 2</option>
                                    <option value="A-Level Physics">A-Level Physics</option>
                                    <option value="其他">其他</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label>年级</label>
                                <input type="text" id="editGrade">
                            </div>
                            <div class="form-group">
                                <label>首次授课日期</label>
                                <input type="date" id="editFirstLessonDate">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label>授课总时长（小时）</label>
                                <input type="number" id="editTotalHours" min="0" step="0.5">
                            </div>
                        </div>
                        
                        <div style="display:flex;gap:10px">
                            <button type="submit" class="btn">保存修改</button>
                            <button type="button" class="btn ghost" id="cancelEditBtn">取消</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- 页脚 -->
            <footer>&copy; 2026 Patrick Tian. All rights reserved.</footer>
        </main>
    </div>

    <script src="students.js"></script>
</body>
</html>
